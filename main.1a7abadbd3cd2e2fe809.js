/*! For license information please see main.1a7abadbd3cd2e2fe809.js.LICENSE.txt */
(()=>{"use strict";var t,e={6001:(t,e,r)=>{var n=r(6540),o=r(5338),a=r(2896),i=r(493);function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var l=(0,i.Z0)({name:"main",initialState:{platform:null,activePanel:"loading",questIsActive:!0,launch_params:{},history:["main"],isLoading:!1,activeModal:null,quests:[],currentQuest:34,currentQuestion:1,modalText:"",modalNextAction:"complete",hintText:"",prizesText:"",rightAnswerCounter:5,audiences:[],currentAudienceID:0,isSubscribed:!1,results:[{score:0,name:"Новичок",text:"Не переживайте из-за ошибок — у всех великих спортсменов был первый шаг."},{score:1,name:"Начинающий спортсмен",text:"Ошибаться — это нормально, главное, что вы в игре."},{score:2,name:"Спортивный энтузиаст",text:"Вы уже в теме и на пути к большим достижениям. Пара промахов — не повод для расстройства!"},{score:3,name:"Заядлый любитель",text:"Это уже уровень, достойный соревнований! Несколько ошибок — это не конец. "},{score:4,name:"Уверенный Профессионал",text:"Ошибки бывают у всех, даже у чемпионов. Уверены, что вы достойны титула настоящего эксперта и нашего приза!"},{score:5,name:"Гуру",text:"Вы знаете о спорте все! Ошибок не было — идеальный результат."}]},reducers:{setLaunchParams:function(t,e){t.launch_params=e.payload},setActivePanel:function(t,e){t.activePanel=e.payload,t.history=[].concat(c(t.history),[e.payload])},setActiveModal:function(t,e){t.activeModal=e.payload},setIsLoading:function(t,e){t.isLoading=e.payload},updateHistory:function(t,e){t.history=e.payload},setPlatform:function(t,e){t.platform=e.payload},setQuests:function(t,e){t.quests=e.payload},setCurrentQuest:function(t,e){t.currentQuest=e.payload},setCurrentQuestion:function(t,e){t.currentQuestion=e.payload},setModalText:function(t,e){t.modalText=e.payload},setModalNextAction:function(t,e){t.modalNextAction=e.payload},setQuestionAnswered:function(t){var e=t.currentQuest,r=t.currentQuestion,n=t.quests.findIndex((function(t){return t.id===e})),o=t.quests[n].questions.findIndex((function(t){return t.id===r})),a=c(t.quests);a[n].questions[o].user_answered=!0,t.quests=a},setHintText:function(t,e){t.hintText=e.payload},setPrizesText:function(t,e){t.prizesText=e.payload},setRightAnswerCounter:function(t,e){t.rightAnswerCounter=e.payload},setQuestIsActive:function(t,e){t.questIsActive=e.payload},setAudiences:function(t,e){t.audiences=e.payload},setCurrentAudienceID:function(t,e){t.currentAudienceID=e.payload},setIsSubscribed:function(t,e){t.isSubscribed=e.payload}}});const s=l.reducer;var f=l.actions,h=f.setActivePanel,p=(f.setLaunchParams,f.setActiveModal),m=(f.setIsLoading,f.updateHistory),d=(f.setPlatform,f.setQuests),v=f.setCurrentQuest,y=(f.setCurrentQuestion,f.setModalText,f.setModalNextAction,f.setQuestionAnswered),g=(f.setHintText,f.setPrizesText,f.setRightAnswerCounter),b=(f.setQuestIsActive,f.setAudiences),w=f.setCurrentAudienceID,E=f.setIsSubscribed;const _=function(){var t=(0,a.wA)();return(0,n.useEffect)((function(){var e=setTimeout((function(){t(h("choice"))}),2500);return function(){return clearTimeout(e)}}),[]),n.createElement("div",{className:"container loading-page"},n.createElement("img",{className:"loading-page__logo",width:"254",height:35,src:"assets/images/logo-white.svg",loading:"lazy",decoding:"async",alt:"logo"}))};var x=r(6942),L=r.n(x),k=function(t){var e=t.onClick,r=t.children,o=t.color,a=void 0===o?"orange":o,i=t.href,c=t.disabled,u=t.className;return i?n.createElement("a",{onClick:e,href:i,className:L()("button",a&&"button_color_".concat(a),u&&u),target:"_blank"},n.createElement("span",null,r)):n.createElement("button",{disabled:c,onClick:e,className:L()("button",a&&"button_color_".concat(a),u&&u)},n.createElement("span",null,r))};const N=function(t){t.onBackClick,(0,a.wA)();return n.createElement("div",{className:"header"},n.createElement("img",{className:"header__logo",src:"assets/images/logo.svg",width:146,height:21,alt:"logo"}))};var O=function(t){var e=t.size,r=void 0===e?"big":e,o=t.children,a=t.color,i=void 0===a?"white":a,c=t.align,u=void 0===c?"center":c,l=t.className;return n.createElement("p",{className:L()("title","title_size_".concat(r),"title_color_".concat(i),"title_align_".concat(u),l)},o)},S=function(t){var e=new Date(t),r=new Date,n=Math.floor((e-r)/1e3),o=Math.floor(n/60),a=Math.floor(o/60),i=Math.floor(a/24);return{days:i,hours:a-=24*i,minutes:o=o-24*i*60-60*a,seconds:n=n-24*i*60*60-60*a*60-60*o}},j=function(t){return 1==t?"день":t>1&&t<5?"дня":21===t?"день":t>21&&t<25?"дня":"дней"},T=r(1083).A.create({baseURL:"https://kinovictory.brandservicebot.ru/api/",headers:{"Content-Type":"application/json"}});function A(t){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A(t)}function P(){P=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(C([])));_&&_!==r&&n.call(_,i)&&(w=_);var x=b.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==A(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=O(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?d:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(A(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(x),l(x,u,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function C(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}T.interceptors.response.use((function(t){return t.data}),(function(t){return Promise.reject(t)}));var G=function(){var t,e=(t=P().mark((function t(e,r,n,o){var a;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T({method:e,url:r,data:n,params:o});case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){C(a,n,o,i,c,"next",t)}function c(t){C(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t,r,n,o){return e.apply(this,arguments)}}(),I=function(t,e){return G("get","/check_chanel_subscription",{},{user_id:t,audience_id:e})};function q(t){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function F(){F=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(A([])));_&&_!==r&&n.call(_,i)&&(w=_);var x=b.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==q(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=O(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?d:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(q(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(x),l(x,u,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function M(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const B=function(t){var e=t.goBack,r=(t.goTo,(0,a.wA)()),o=(0,a.d4)((function(t){return t.main.quests})),i=window.Telegram.WebApp,c=function(){var t,e=(t=F().mark((function t(e,n,o){var a;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r(E(!1)),!n){t.next=8;break}return t.next=4,I(null===(a=i.initDataUnsafe)||void 0===a||null===(a=a.user)||void 0===a?void 0:a.id,o);case 4:t.sent.check_subscription_result&&r(E(!0)),t.next=9;break;case 8:r(E(!0));case 9:r(v(e)),r(h("level"));case 11:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){M(a,n,o,i,c,"next",t)}function c(t){M(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();return n.createElement("div",{className:L()("container main-page page")},n.createElement(N,null),o.length>0?n.createElement("div",{className:"page__content"},n.createElement(O,{className:"main-page__title"},"Викторины"),n.createElement("div",{className:"quests-block"},n.createElement("div",{className:"quests-list"},o.map((function(t){var e=S(t.dt_end),r=e.days,o=e.minutes,a=e.hours;e.seconds;return n.createElement("button",{className:"quests-list-button",onClick:function(){return c(t.id,t.audience_need_subscription_check,t.audience_id)},key:t.id},n.createElement(O,null,t.name),n.createElement("p",{className:"quests-list-button__time"},"До конца викторины осталось: ",n.createElement("br",null),n.createElement("span",null,r," ",j(r)," ",a," часов ",o," минут")))}))),n.createElement(k,{onClick:e},"Вернуться назад"))):n.createElement("div",{className:"page__content"},n.createElement("div",{className:"empty-block"},n.createElement("img",{width:200,src:"assets/images/empty-image.png",alt:"",className:"empty-block__pic"}),n.createElement(O,{className:"empty-block__title"},"Активных викторин",n.createElement("br",null),"пока нет"),n.createElement("button",{className:"main-page__start-button",onClick:function(){return i.close()}},"Вернуться к боту"))))};const Q=function(t){var e=(0,a.wA)();return null!==(0,a.d4)((function(t){return t.main.activeModal}))&&n.createElement("div",{className:"overlay",onClick:function(){return e(p(null))}},t.children)};var D=function(t){var e=t.size,r=void 0===e?"normal":e,o=t.children,a=t.color,i=void 0===a?"white":a,c=t.align,u=void 0===c?"center":c,l=t.className;t.dangerouslySetInnerHTML;return n.createElement("p",{className:L()("text","text_size_".concat(r),"text_color_".concat(i),"text_align_".concat(u),l)},o)},z=function(t){return 0===t.questions.filter((function(t){return!1===t.user_answered})).length};function U(t){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(t)}function Y(){Y=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(A([])));_&&_!==r&&n.call(_,i)&&(w=_);var x=b.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==U(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=O(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?d:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(U(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(x),l(x,u,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function H(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const W=function(t){var e=t.goBack,r=(t.goTo,(0,a.wA)()),o=(0,a.d4)((function(t){return t.main.quests})),i=(0,a.d4)((function(t){return t.main.currentQuest})),c=o.find((function(t){return t.id===i})),u=window.Telegram.WebApp,l=o.length>0&&z(c),s=c.active,f=S(c.dt_end),p=f.days,m=f.minutes,d=f.hours,v=(0,a.d4)((function(t){return t.main.isSubscribed})),y=function(){var t,e=(t=Y().mark((function t(){var e;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(null===(e=u.initDataUnsafe)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.id,c.audience_id);case 2:t.sent.check_subscription_result?r(E(!0)):r(E(!1));case 4:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){H(a,n,o,i,c,"next",t)}function c(t){H(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){l&&s&&r(h("results"))}),[l,s]),n.createElement("div",{className:L()("container main-page page")},n.createElement(N,null),o.length>0?v?n.createElement("div",{className:"page__content"},n.createElement("img",{src:"assets/images/start-image.png",width:200,alt:"",className:"main-page__pic"}),n.createElement(O,{className:"main-page__title"},c.name),n.createElement(D,{className:"main-page__text"},"До конца викторины осталось: ",n.createElement("br",null),n.createElement("span",null,p," ",j(p)," ",d," часов ",m," минут")),n.createElement("div",{className:"main-page__buttons"},n.createElement(k,{onClick:function(){return r(h("question"))}},"Начать викторину"),n.createElement(k,{color:"semiwhite",onClick:e},"Вернуться назад"))):n.createElement("div",{className:"page__content"},n.createElement(O,{className:"subscribe-title"},"Подпишитесь на канал",n.createElement("br",null),"«",c.audience_name,"»,",n.createElement("br",null),"чтобы начать викторину"),n.createElement("div",{className:"main-page__buttons"},n.createElement(k,{href:c.audience_subscription_link},n.createElement("span",null,"Подписаться"),n.createElement("img",{src:"assets/images/arrow-icon.svg",alt:""})),n.createElement(k,{color:"white",onClick:y},"Я подписался"),n.createElement(k,{color:"semiwhite",onClick:e},"Вернуться назад"))):n.createElement("div",{className:"page__content"},n.createElement("div",{className:"empty-block"},n.createElement("img",{width:200,src:"assets/images/empty-image.png",alt:"",className:"empty-block__pic"}),n.createElement(O,{className:"empty-block__title"},"Активных викторин",n.createElement("br",null),"пока нет"),n.createElement("button",{className:"main-page__start-button",onClick:function(){return u.close()}},"Вернуться к боту"))))};var R=function(t,e,r,n){return G("post","/post_answer",{user:t,question:e,answer_data:r,answer_type:n},{})};function K(t){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K(t)}function $(){$=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(A([])));_&&_!==r&&n.call(_,i)&&(w=_);var x=b.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==K(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=O(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?d:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(K(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(x),l(x,u,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function V(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}function Z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(t)).next,0===e){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==e);u=!0);}catch(t){l=!0,o=t}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return J(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}const X=function(t){var e,r,o=t.goBack,i=(t.goTo,(0,a.wA)()),c=(0,a.d4)((function(t){return t.main.quests})),u=c.length>0?c[0]:void 0,l=null==u?void 0:u.questions.indexOf(null==u?void 0:u.questions.filter((function(t){return!1===t.user_answered}))[0]),s=Z((0,n.useState)(l),2),f=s[0],p=s[1],m=u?null==u?void 0:u.questions[f]:void 0,d=(0,a.d4)((function(t){return t.main.rightAnswerCounter})),v=window.Telegram.WebApp,b=S(u.dt_end),w=b.days,E=b.minutes,_=b.hours,x=function(){var t,e=(t=$().mark((function t(e,r,n){var o,a;return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(null===(o=v.initDataUnsafe)||void 0===o||null===(o=o.user)||void 0===o?void 0:o.id,e,r,n);case 3:a=t.sent,console.log(a),p(f+1),"true"===a.status&&i(g(d+1)),"complete"===a.next_action&&i(y(e)),a.status,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){V(a,n,o,i,c,"next",t)}function c(t){V(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();return(0,n.useEffect)((function(){f===u.questions.length&&i(h("results"))}),[f]),n.createElement("div",{className:"container question-page page"},n.createElement(N,{onBackClick:o}),n.createElement("div",{className:"page__content question-page__content"},n.createElement("div",{className:"question-page__counter"},n.createElement("div",null,n.createElement(O,{size:"normal"},"Вопрос ",f+1,"/",u.questions.length))),n.createElement(D,{className:"question-page__text"},n.createElement("span",{dangerouslySetInnerHTML:{__html:null==m||null===(e=m.stateframe)||void 0===e?void 0:e.text}})),n.createElement("div",{className:"question-page__buttons"},null==m||null===(r=m.stateframe)||void 0===r?void 0:r.buttons.map((function(t,e){return n.createElement(k,{color:"grey",onClick:function(){return x(m.id,t.callback,m.answer_type)},key:e},t.text)}))),n.createElement("div",{className:"question-page__time"},n.createElement(D,null,"До конца викторины осталось: ",n.createElement("br",null),n.createElement("span",null,w," ",j(w)," ",_," часов ",E," минут")))))};var tt=function(t){return G("get","/get_quest_data",{},{user_id:t,audience:!0})};const et=function(t){var e=t.goBack,r=(t.goTo,(0,a.wA)(),(0,a.d4)((function(t){return t.main.currentQuest}))),o=((0,a.d4)((function(t){return t.main.currentQuestion})),(0,a.d4)((function(t){return t.main.quests}))),i=(o.length>0&&o.find((function(t){return t.id===r})),window.Telegram.WebApp),c=(0,a.d4)((function(t){return t.main.rightAnswerCounter})),u=(0,a.d4)((function(t){return t.main.results})).find((function(t){return t.score===c}));return n.createElement("div",{className:"container results-page page results-page_count_".concat(c)},n.createElement(N,{onBackClick:e}),n.createElement("div",{className:"page__content results-page__content"},n.createElement("div",{className:"results-page__count"},n.createElement(O,{size:"normal"},5===c?"Без ошибок":"".concat(c," ").concat(0===c?"верных ответов":1===c?"верный ответ":c>1&&c<5&&"верных ответа")," ")),n.createElement(O,{className:"question-page__title"},null==u?void 0:u.name),n.createElement(D,{className:"results-page__text"},null==u?void 0:u.text),n.createElement(k,{color:"grey",className:"back-to-bot",onClick:function(){return i.close()}},"Вернуться к боту")))};const rt=function(t){t.goBack,t.goTo;var e=(0,a.wA)();return n.createElement("div",{className:L()("container main-page page","main-page_striped")},n.createElement(N,null),n.createElement("div",{className:"page__content"},n.createElement("div",{className:"first-block-buttons"},n.createElement(k,{onClick:function(){return e(h("main"))}},"Викторины"),n.createElement(k,{onClick:function(){return e(h("sports"))},color:"grey"},"Любимые клубы"))))};const nt=function(t){var e=t.goBack,r=(t.goTo,(0,a.wA)()),o=(0,a.d4)((function(t){return t.main.audiences}));return n.createElement("div",{className:L()("container main-page page")},n.createElement(N,null),n.createElement("div",{className:"page__content"},n.createElement("div",{className:"sport-block"},n.createElement(O,null,"Выберите свой",n.createElement("br",null),"вид спорта"),n.createElement("div",{className:"sport-block__buttons"},o.map((function(t){return n.createElement("button",{className:"sport-button",onClick:function(){return e=t.group_id,r(w(e)),void r(h("clubs"));var e},key:t.group_id},n.createElement("span",{className:"sport-button__icon"},n.createElement("img",{src:"assets/images/".concat(1===t.group_id?"soccer":"hockey","-icon.svg"),alt:""})),n.createElement("span",{className:"sport-button__text"},t.group_name))}))),n.createElement(k,{onClick:e},"Вернуться назад"))))};var ot=function(t){return G("get","/get_audience",{},{user_id:t})},at=function(t,e,r){return G("post","/set_user_audience",{user_id:t,add_audiences:e,remove_audiences:r},{})};function it(t){return it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},it(t)}function ct(){ct=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(A([])));_&&_!==r&&n.call(_,i)&&(w=_);var x=b.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==it(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=O(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?d:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(it(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(x),l(x,u,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function ut(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const lt=function(t){var e=t.goBack,r=(t.goTo,(0,a.wA)()),o=(0,a.d4)((function(t){return t.main.quests})),i=((0,a.d4)((function(t){return t.main.questIsActive})),window.Telegram.WebApp),c=(o.length>0&&z(o[0]),(0,a.d4)((function(t){return t.main.currentAudienceID}))),u=(0,a.d4)((function(t){return t.main.audiences})).find((function(t){return t.group_id===c})),l=function(){var t,e=(t=ct().mark((function t(e,n,o){var a,c,u,l,s,f;return ct().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n;case 3:if(!t.sent){t.next=7;break}t.t0=at(null===(a=i.initDataUnsafe)||void 0===a||null===(a=a.user)||void 0===a?void 0:a.id,[],[o]),t.next=8;break;case 7:t.t0=at(null===(c=i.initDataUnsafe)||void 0===c||null===(c=c.user)||void 0===c?void 0:c.id,[o],[]);case 8:return t.t0,t.next=11,tt(null===(u=i.initDataUnsafe)||void 0===u||null===(u=u.user)||void 0===u?void 0:u.id);case 11:return s=t.sent,t.next=14,ot(null===(l=i.initDataUnsafe)||void 0===l||null===(l=l.user)||void 0===l?void 0:l.id);case 14:f=t.sent,r(b(f.audience)),r(d(s.quests)),t.next=22;break;case 19:t.prev=19,t.t1=t.catch(0),console.log(t.t1);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(t){ut(a,n,o,i,c,"next",t)}function c(t){ut(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(t,r,n){return e.apply(this,arguments)}}();return n.createElement("div",{className:L()("container main-page page")},n.createElement(N,null),n.createElement("div",{className:"page__content"},n.createElement("div",{className:"clubs-block"},n.createElement(O,{className:"clubs-block__title"},"Любимые клубы"),n.createElement(D,{className:"clubs-block__text",color:"semiwhite"},"Будем присылать уведомления",n.createElement("br",null),"о новых викторинах"),n.createElement("div",{className:"clubs-block__buttons"},u.audiences.map((function(t){return n.createElement("button",{className:L()("club-button",t.is_subscribed&&"club-button_active"),key:t.audience_id,onClick:function(){var e;return l(null===(e=i.initDataUnsafe)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.id,t.is_subscribed,t.audience_id)}},n.createElement("span",{className:"club-button__text"},t.audience_name),n.createElement("span",{className:"club-button__icon"},n.createElement("img",{src:"assets/images/heart-icon.svg",alt:""})))}))),n.createElement(k,{onClick:e},"Вернуться назад"))))};function st(t){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},st(t)}function ft(t){return function(t){if(Array.isArray(t))return ht(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ht(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ht(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ht(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pt(){pt=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(t,e,r){t[e]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new T(n||[]);return o(i,"_invoke",{value:N(t,r,c)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var h="suspendedStart",p="suspendedYield",m="executing",d="completed",v={};function y(){}function g(){}function b(){}var w={};l(w,i,(function(){return this}));var E=Object.getPrototypeOf,_=E&&E(E(A([])));_&&_!==r&&n.call(_,i)&&(w=_);var x=b.prototype=y.prototype=Object.create(w);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function r(o,a,i,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==st(s)&&n.call(s,"__await")?e.resolve(s.__await).then((function(t){r("next",t,i,c)}),(function(t){r("throw",t,i,c)})):e.resolve(s).then((function(t){l.value=t,i(l)}),(function(t){return r("throw",t,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,n){function o(){return new e((function(e,o){r(t,n,e,o)}))}return a=a?a.then(o,o):o()}})}function N(e,r,n){var o=h;return function(a,i){if(o===m)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=O(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=m;var l=f(e,r,n);if("normal"===l.type){if(o=n.done?d:p,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=d,n.method="throw",n.arg=l.arg)}}}function O(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,O(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function S(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(S,this),this.reset(!0)}function A(e){if(e||""===e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(st(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=l(b,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,l(t,u,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,c,(function(){return this})),e.AsyncIterator=k,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new k(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},L(x),l(x,u,"Generator"),l(x,i,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return c.type="throw",c.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:A(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function mt(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}const dt=function(){var t=(0,a.wA)(),e=(0,a.d4)((function(t){return t.main.activePanel})),r=(0,a.d4)((function(t){return t.main.activeModal})),o=(0,a.d4)((function(t){return t.main.history})),i=(0,a.d4)((function(t){return t.main.platform})),c=(0,a.d4)((function(t){return t.main.modalText})),u=(0,a.d4)((function(t){return t.main.modalNextAction})),l=(0,a.d4)((function(t){return t.main.hintText})),s=(0,a.d4)((function(t){return t.main.prizesText})),f=(0,a.d4)((function(t){return t.main.currentQuest})),v=(0,a.d4)((function(t){return t.main.quests})),y=v.length>0?v.find((function(t){return t.id===f})):void 0,g=window.Telegram.WebApp,w=function(){var e,r=(e=pt().mark((function e(){var r,n,o,a;return pt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt(null===(r=g.initDataUnsafe)||void 0===r||null===(r=r.user)||void 0===r?void 0:r.id);case 3:return o=e.sent,e.next=6,ot(null===(n=g.initDataUnsafe)||void 0===n||null===(n=n.user)||void 0===n?void 0:n.id);case 6:a=e.sent,t(b(a.audience)),t(d(o.quests)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(t){mt(a,n,o,i,c,"next",t)}function c(t){mt(a,n,o,i,c,"throw",t)}i(void 0)}))});return function(){return r.apply(this,arguments)}}();(0,n.useEffect)((function(){w(),g.ready(),g.disableVerticalSwipes(),g.expand(),g.setHeaderColor("#000000"),g.setBackgroundColor("#000000"),g.setBottomBarColor("#000000"),w()}),[]);var E=function(e){t(h(e)),t(m([].concat(ft(o),[e])))},x=function(){return n.createElement("div",{className:"modal full-modal",onClick:function(t){t.stopPropagation()}},n.createElement("div",{className:"full-modal__content"},n.createElement("img",{src:"assets/images/right-answer-pic.png",className:"full-modal__pic",width:157,height:150}),n.createElement(O,null,"Верно!"),n.createElement(D,null,c)),"complete"===u&&n.createElement("div",{className:"full-modal__buttons"},n.createElement(k,{onClick:function(){t(h("level")),t(p(null))}},"Продолжить")),"retry"===u&&n.createElement("div",{className:"full-modal__buttons"},n.createElement(k,{onClick:function(){return t(p(null))}},"Еще раз"),n.createElement(k,{color:"transparent",onClick:function(){t(p(null)),E("level")}},"К другим задачам")))},L=function(){return n.createElement("div",{className:"modal full-modal",onClick:function(t){t.stopPropagation()}},n.createElement("div",{className:"full-modal__content"},n.createElement("img",{src:"assets/images/wrong-answer-pic.png",className:"full-modal__pic",width:157,height:150}),n.createElement(O,null,"Неверно!"),n.createElement(D,null,c)),"complete"===u&&n.createElement("div",{className:"full-modal__buttons"},n.createElement(k,{onClick:function(){t(p(null)),E("level")}},"Продолжить")),"retry"===u&&n.createElement("div",{className:"full-modal__buttons"},n.createElement(k,{onClick:function(){return t(p(null))}},"Еще раз"),n.createElement(k,{color:"transparent",onClick:function(){t(p(null)),E("level")}},"К другим задачам")))},N=function(){return n.createElement("div",{className:"modal full-modal",onClick:function(t){t.stopPropagation()}},n.createElement("div",{className:"full-modal__content"},n.createElement("img",{src:"assets/images/wrong-answer-pic.png",className:"full-modal__pic",width:157,height:150}),n.createElement(O,null,"Что-то пошло не так")),n.createElement("div",{className:"full-modal__buttons"}," ",n.createElement(k,{onClick:function(){t(p(null)),E("main")}},"Вернуться на главную")))},S=function(){return n.createElement("div",{className:"modal full-modal",onClick:function(t){t.stopPropagation()}},n.createElement("div",{className:"full-modal__content"},n.createElement("img",{src:"assets/images/right-answer-pic.png",className:"full-modal__pic",width:157,height:150}),n.createElement(O,null,y.name," уровень пройден!"),n.createElement("div",{className:"full-modal__sub-info"},n.createElement(D,null,"Теперь ты можешь выиграть:")),n.createElement(D,null,y.prize_short_description)),n.createElement("div",{className:"full-modal__buttons"},n.createElement(k,{onClick:function(){t(h("main")),t(p(null))}},"Вернуться в меню")))},j=function(){return n.createElement("div",{className:"modal body-modal",onClick:function(t){t.stopPropagation()}},n.createElement("div",{className:"body-modal__content"},n.createElement("div",{className:"body-modal__close",onClick:function(){return t(p(null))}},n.createElement("img",{src:"assets/images/cross-icon.svg",width:10,height:10,alt:""})),n.createElement("img",{src:"assets/images/hint-pic.png",className:"body-modal__pic",width:130,height:175}),n.createElement(O,{color:"purple",className:"body-modal__title"},"Подсказка"),n.createElement(D,{color:"black",align:"center"},l),n.createElement(k,{color:"purple",className:"body-modal__button",onClick:function(){return t(p(null))}},"Спасибо")))},T=function(){return n.createElement("div",{className:"modal body-modal",onClick:function(t){t.stopPropagation()}},n.createElement("div",{className:"body-modal__content"},n.createElement("div",{className:"body-modal__close",onClick:function(){return t(p(null))}},n.createElement("img",{src:"assets/images/cross-icon.svg",width:10,height:10,alt:""})),n.createElement("img",{src:"assets/images/prize-pic.png",className:"body-modal__pic",width:170,height:170}),n.createElement(O,{color:"purple",className:"body-modal__title"},"О призах"),n.createElement(D,{color:"black",align:"left",className:"body-modal__text"},n.createElement("span",{dangerouslySetInnerHTML:{__html:s}})),n.createElement(k,{color:"purple",className:"body-modal__button",onClick:function(){return t(p(null))}},"Спасибо")))},A=[];return"loading"===e?A.push(n.createElement(_,{goTo:E,key:"loading"})):"main"===e?A.push(n.createElement(B,{goTo:E,goBack:function(){return t(h("choice"))},key:"main"})):"level"===e?A.push(n.createElement(W,{goBack:function(){return t(h("main"))},goTo:E,key:"level"})):"results"===e?A.push(n.createElement(et,{goBack:function(){return t(h("main"))},goTo:E,key:"results"})):"question"===e?A.push(n.createElement(X,{goBack:function(){return t(h("main"))},goTo:E,key:"question"})):"choice"===e?A.push(n.createElement(rt,{goBack:function(){return t(h("level"))},goTo:E,key:"choice"})):"sports"===e?A.push(n.createElement(nt,{goBack:function(){return t(h("choice"))},goTo:E,key:"sports"})):"clubs"===e&&A.push(n.createElement(lt,{goBack:function(){return t(h("sports"))},goTo:E,key:"clubs"})),n.createElement("div",{className:"app ".concat(i)},n.createElement(n.Fragment,null,A,n.createElement(Q,null,"questionRight"===r?n.createElement(x,null):"questionWrong"===r?n.createElement(L,null):"levelPassed"===r?n.createElement(S,null):"hint"===r?n.createElement(j,null):"prizes"===r?n.createElement(T,null):"questionAlert"===r&&n.createElement(N,null))))};var vt=(0,r(1829).HY)({main:s}),yt=(0,i.U1)({reducer:vt}),gt=document.getElementById("root");(0,o.H)(gt).render(n.createElement(a.Kq,{store:yt},n.createElement(dt,null)))}},r={};function n(t){var o=r[t];if(void 0!==o)return o.exports;var a=r[t]={exports:{}};return e[t](a,a.exports,n),a.exports}n.m=e,t=[],n.O=(e,r,o,a)=>{if(!r){var i=1/0;for(s=0;s<t.length;s++){for(var[r,o,a]=t[s],c=!0,u=0;u<r.length;u++)(!1&a||i>=a)&&Object.keys(n.O).every((t=>n.O[t](r[u])))?r.splice(u--,1):(c=!1,a<i&&(i=a));if(c){t.splice(s--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[r,o,a]},n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={792:0};n.O.j=e=>0===t[e];var e=(e,r)=>{var o,a,[i,c,u]=r,l=0;if(i.some((e=>0!==t[e]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(u)var s=u(n)}for(e&&e(r);l<i.length;l++)a=i[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(s)},r=self.webpackChunkKinopoisk_Sport=self.webpackChunkKinopoisk_Sport||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),n.O(void 0,[570],(()=>n(7461)));var o=n.O(void 0,[570],(()=>n(6001)));o=n.O(o)})();
//# sourceMappingURL=main.1a7abadbd3cd2e2fe809.js.map