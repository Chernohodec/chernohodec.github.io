/*! For license information please see main.725a5dcd0bc7588e539c.js.LICENSE.txt */
(()=>{"use strict";var t,e={5362:(t,e,n)=>{var r=n(6540),o=n(5338),a=n(2896),i=n(493);function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return l(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var u=(0,i.Z0)({name:"main",initialState:{platform:null,activePanel:"loading",questIsActive:!0,launch_params:{},history:["main"],isLoading:!1,activeModal:null,quests:[],currentQuest:34,currentQuestion:1,modalText:"",modalNextAction:"complete",hintText:"",prizesText:"",rightAnswerCounter:5,audiences:[],currentAudienceID:0,results:[{score:0,name:"Новичок",text:"Не переживайте из-за ошибок — у всех великих спортсменов был первый шаг."},{score:1,name:"Начинающий спортсмен",text:"Ошибаться — это нормально, главное, что вы в игре."},{score:2,name:"Спортивный энтузиаст",text:"Вы уже в теме и на пути к большим достижениям. Пара промахов — не повод для расстройства!"},{score:3,name:"Заядлый любитель",text:"Это уже уровень, достойный соревнований! Несколько ошибок — это не конец. "},{score:4,name:"Уверенный Профессионал",text:"Ошибки бывают у всех, даже у чемпионов. Уверены, что вы достойны титула настоящего эксперта и нашего приза!"},{score:5,name:"Гуру",text:"Вы знаете о спорте все! Ошибок не было — идеальный результат."}]},reducers:{setLaunchParams:function(t,e){t.launch_params=e.payload},setActivePanel:function(t,e){t.activePanel=e.payload,t.history=[].concat(c(t.history),[e.payload])},setActiveModal:function(t,e){t.activeModal=e.payload},setIsLoading:function(t,e){t.isLoading=e.payload},updateHistory:function(t,e){t.history=e.payload},setPlatform:function(t,e){t.platform=e.payload},setQuests:function(t,e){t.quests=e.payload},setCurrentQuest:function(t,e){t.currentQuest=e.payload},setCurrentQuestion:function(t,e){t.currentQuestion=e.payload},setModalText:function(t,e){t.modalText=e.payload},setModalNextAction:function(t,e){t.modalNextAction=e.payload},setQuestionAnswered:function(t){var e=t.currentQuest,n=t.currentQuestion,r=t.quests.findIndex((function(t){return t.id===e})),o=t.quests[r].questions.findIndex((function(t){return t.id===n})),a=c(t.quests);a[r].questions[o].user_answered=!0,t.quests=a},setHintText:function(t,e){t.hintText=e.payload},setPrizesText:function(t,e){t.prizesText=e.payload},setRightAnswerCounter:function(t,e){t.rightAnswerCounter=e.payload},setQuestIsActive:function(t,e){t.questIsActive=e.payload},setAudiences:function(t,e){t.audiences=e.payload},setCurrentAudienceID:function(t,e){t.currentAudienceID=e.payload}}});const s=u.reducer;var f=u.actions,m=f.setActivePanel,h=(f.setLaunchParams,f.setActiveModal),p=(f.setIsLoading,f.updateHistory),d=(f.setPlatform,f.setQuests),v=f.setCurrentQuest,y=(f.setCurrentQuestion,f.setModalText,f.setModalNextAction,f.setQuestionAnswered),g=(f.setHintText,f.setPrizesText,f.setRightAnswerCounter),b=(f.setQuestIsActive,f.setAudiences),E=f.setCurrentAudienceID;const w=function(){var t=(0,a.wA)();return(0,r.useEffect)((function(){var e=setTimeout((function(){t(m("choice"))}),2500);return function(){return clearTimeout(e)}}),[]),r.createElement("div",{className:"container loading-page"},r.createElement("img",{className:"loading-page__logo",width:"254",height:35,src:"assets/images/logo-white.svg",loading:"lazy",decoding:"async",alt:"logo"}))};var _=n(6942),x=n.n(_),k=function(t){var e=t.onClick,n=t.children,o=t.color,a=void 0===o?"orange":o,i=t.className;return r.createElement("button",{onClick:e,className:x()("button","button_color_".concat(a),i)},r.createElement("span",null,n))};const N=function(t){t.onBackClick,(0,a.wA)();return r.createElement("div",{className:"header"},r.createElement("img",{className:"header__logo",src:"assets/images/logo.svg",width:146,height:21,alt:"logo"}))};var L=function(t){var e=t.size,n=void 0===e?"normal":e,o=t.children,a=t.color,i=void 0===a?"white":a,c=t.align,l=void 0===c?"center":c,u=t.className;t.dangerouslySetInnerHTML;return r.createElement("p",{className:x()("text","text_size_".concat(n),"text_color_".concat(i),"text_align_".concat(l),u)},o)},A=function(t){var e=t.size,n=void 0===e?"big":e,o=t.children,a=t.color,i=void 0===a?"white":a,c=t.align,l=void 0===c?"center":c,u=t.className;return r.createElement("p",{className:x()("title","title_size_".concat(n),"title_color_".concat(i),"title_align_".concat(l),u)},o)},O=function(t){var e=new Date(t),n=new Date,r=Math.floor((e-n)/1e3),o=Math.floor(r/60),a=Math.floor(o/60),i=Math.floor(a/24);return{days:i,hours:a-=24*i,minutes:o=o-24*i*60-60*a,seconds:r=r-24*i*60*60-60*a*60-60*o}},S=function(t){return 1==t?"день":t>1&&t<5?"дня":21===t?"день":t>21&&t<25?"дня":"дней"};function j(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return T(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const C=function(t){var e=t.goBack,n=(t.goTo,(0,a.wA)()),o=(0,a.d4)((function(t){return t.main.quests})),i=j((0,r.useState)(!1),2),c=i[0],l=i[1];return r.createElement("div",{className:x()("container main-page page")},r.createElement(N,null),o.length>0?c?r.createElement("div",{className:"page__content"},r.createElement(A,{className:"main-page__title"},"Викторины"),r.createElement("div",{className:"quests-block"},r.createElement("div",{className:"quests-list"},o.map((function(t){var e=O(t.dt_end),o=e.days,a=e.minutes,i=e.hours;e.seconds;return r.createElement("button",{className:"quests-list-button",onClick:function(){return e=t.id,n(v(e)),void n(m("level"));var e},key:t.id},r.createElement(A,null,t.name),r.createElement("p",{className:"quests-list-button__time"},"До конца викторины осталось: ",r.createElement("br",null),r.createElement("span",null,o," ",S(o)," ",i," часов ",a," минут")))}))),r.createElement(k,{onClick:e},"Вернуться назад"))):r.createElement("div",{className:"page__content"},r.createElement(A,{className:"subscribe-title"},"Подпишитесь на канал",r.createElement("br",null),"«Футбол 24/7 | Лига Чемпионов fans»,",r.createElement("br",null),"чтобы начать викторину"),r.createElement("div",{className:"main-page__buttons"},r.createElement(k,null,r.createElement("span",null,"Подписаться"),r.createElement("img",{src:"assets/images/arrow-icon.svg",alt:""})),r.createElement(k,{color:"white",onClick:function(){return l(!0)}},"Я подписался"),r.createElement(k,{color:"semiwhite",onClick:e},"Вернуться назад"))):r.createElement("div",{className:"page__content"},r.createElement("div",{className:"empty-block"},r.createElement("img",{width:200,src:"assets/images/empty-image.png",alt:"",className:"empty-block__pic"}),r.createElement(A,{className:"empty-block__title"},"Активных викторин",r.createElement("br",null),"пока нет"),r.createElement("button",{className:"main-page__start-button",onClick:function(){return tg.close()}},"Вернуться к боту"))))};const P=function(t){var e=(0,a.wA)();return null!==(0,a.d4)((function(t){return t.main.activeModal}))&&r.createElement("div",{className:"overlay",onClick:function(){return e(h(null))}},t.children)};var q=function(t){return 0===t.questions.filter((function(t){return!1===t.user_answered})).length};const I=function(t){var e=t.goBack,n=(t.goTo,(0,a.wA)()),o=(0,a.d4)((function(t){return t.main.quests})),i=(0,a.d4)((function(t){return t.main.currentQuest})),c=o.find((function(t){return t.id===i})),l=window.Telegram.WebApp,u=o.length>0&&q(c),s=c.active,f=O(c.dt_end),h=f.days,p=f.minutes,d=f.hours;return(0,r.useEffect)((function(){u&&s&&n(m("results"))}),[u,s]),r.createElement("div",{className:x()("container main-page page")},r.createElement(N,null),o.length>0?r.createElement("div",{className:"page__content"},r.createElement("img",{src:"assets/images/start-image.png",width:200,alt:"",className:"main-page__pic"}),r.createElement(A,{className:"main-page__title"},c.name),r.createElement(L,{className:"main-page__text"},"До конца викторины осталось: ",r.createElement("br",null),r.createElement("span",null,h," ",S(h)," ",d," часов ",p," минут")),r.createElement("div",{className:"main-page__buttons"},r.createElement(k,{onClick:function(){return n(m("question"))}},"Начать викторину"),r.createElement(k,{color:"semiwhite",onClick:e},"Вернуться назад"))):r.createElement("div",{className:"page__content"},r.createElement("div",{className:"empty-block"},r.createElement("img",{width:200,src:"assets/images/empty-image.png",alt:"",className:"empty-block__pic"}),r.createElement(A,{className:"empty-block__title"},"Активных викторин",r.createElement("br",null),"пока нет"),r.createElement("button",{className:"main-page__start-button",onClick:function(){return l.close()}},"Вернуться к боту"))))};var G=n(1083).A.create({baseURL:"https://kinovictory.brandservicebot.ru/api/",headers:{"Content-Type":"application/json"}});function M(t){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function F(){F=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new j(r||[]);return o(i,"_invoke",{value:L(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(T([])));_&&_!==n&&r.call(_,i)&&(E=_);var x=b.prototype=y.prototype=Object.create(E);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==M(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,n,r){var o=m;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=A(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(M(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(N.prototype),u(N.prototype,c,(function(){return this})),e.AsyncIterator=N,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new N(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function B(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}G.interceptors.response.use((function(t){return t.data}),(function(t){return Promise.reject(t)}));var Q=function(){var t,e=(t=F().mark((function t(e,n,r,o){var a;return F().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G({method:e,url:n,data:r,params:o});case 3:return a=t.sent,t.abrupt("return",a);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",Promise.reject(t.t0));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){B(a,r,o,i,c,"next",t)}function c(t){B(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t,n,r,o){return e.apply(this,arguments)}}(),z=function(t,e,n,r){return Q("post","/post_answer",{user:t,question:e,answer_data:n,answer_type:r},{})};function D(t){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D(t)}function U(){U=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new j(r||[]);return o(i,"_invoke",{value:L(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(T([])));_&&_!==n&&r.call(_,i)&&(E=_);var x=b.prototype=y.prototype=Object.create(E);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==D(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,n,r){var o=m;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=A(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(D(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(N.prototype),u(N.prototype,c,(function(){return this})),e.AsyncIterator=N,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new N(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function H(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}function Y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a,i,c=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(t){u=!0,o=t}finally{try{if(!l&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(u)throw o}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return W(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}const R=function(t){var e,n,o=t.goBack,i=(t.goTo,(0,a.wA)()),c=(0,a.d4)((function(t){return t.main.quests})),l=c.length>0?c[0]:void 0,u=null==l?void 0:l.questions.indexOf(null==l?void 0:l.questions.filter((function(t){return!1===t.user_answered}))[0]),s=Y((0,r.useState)(u),2),f=s[0],h=s[1],p=l?null==l?void 0:l.questions[f]:void 0,d=(0,a.d4)((function(t){return t.main.rightAnswerCounter})),v=window.Telegram.WebApp,b=O(l.dt_end),E=b.days,w=b.minutes,_=b.hours,x=function(){var t,e=(t=U().mark((function t(e,n,r){var o,a;return U().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z(null===(o=v.initDataUnsafe)||void 0===o||null===(o=o.user)||void 0===o?void 0:o.id,e,n,r);case 3:a=t.sent,console.log(a),h(f+1),"true"===a.status&&i(g(d+1)),"complete"===a.next_action&&i(y(e)),a.status,t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,11]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){H(a,r,o,i,c,"next",t)}function c(t){H(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t,n,r){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){f===l.questions.length&&i(m("results"))}),[f]),r.createElement("div",{className:"container question-page page"},r.createElement(N,{onBackClick:o}),r.createElement("div",{className:"page__content question-page__content"},r.createElement("div",{className:"question-page__counter"},r.createElement("div",null,r.createElement(A,{size:"normal"},"Вопрос ",f+1,"/",l.questions.length))),r.createElement(L,{className:"question-page__text"},r.createElement("span",{dangerouslySetInnerHTML:{__html:null==p||null===(e=p.stateframe)||void 0===e?void 0:e.text}})),r.createElement("div",{className:"question-page__buttons"},null==p||null===(n=p.stateframe)||void 0===n?void 0:n.buttons.map((function(t,e){return r.createElement(k,{color:"grey",onClick:function(){return x(p.id,t.callback,p.answer_type)},key:e},t.text)}))),r.createElement("div",{className:"question-page__time"},r.createElement(L,null,"До конца викторины осталось: ",r.createElement("br",null),r.createElement("span",null,E," ",S(E)," ",_," часов ",w," минут")))))};var $=function(t){return Q("get","/get_quest_data",{audience:!0},{user_id:t})};const K=function(t){var e=t.goBack,n=(t.goTo,(0,a.wA)(),(0,a.d4)((function(t){return t.main.currentQuest}))),o=((0,a.d4)((function(t){return t.main.currentQuestion})),(0,a.d4)((function(t){return t.main.quests}))),i=(o.length>0&&o.find((function(t){return t.id===n})),window.Telegram.WebApp),c=(0,a.d4)((function(t){return t.main.rightAnswerCounter})),l=(0,a.d4)((function(t){return t.main.results})).find((function(t){return t.score===c}));return r.createElement("div",{className:"container results-page page results-page_count_".concat(c)},r.createElement(N,{onBackClick:e}),r.createElement("div",{className:"page__content results-page__content"},r.createElement("div",{className:"results-page__count"},r.createElement(A,{size:"normal"},5===c?"Без ошибок":"".concat(c," ").concat(0===c?"верных ответов":1===c?"верный ответ":c>1&&c<5&&"верных ответа")," ")),r.createElement(A,{className:"question-page__title"},null==l?void 0:l.name),r.createElement(L,{className:"results-page__text"},null==l?void 0:l.text),r.createElement(k,{color:"grey",className:"back-to-bot",onClick:function(){return i.close()}},"Вернуться к боту")))};const V=function(t){t.goBack,t.goTo;var e=(0,a.wA)();return r.createElement("div",{className:x()("container main-page page","main-page_striped")},r.createElement(N,null),r.createElement("div",{className:"page__content"},r.createElement("div",{className:"first-block-buttons"},r.createElement(k,{onClick:function(){return e(m("main"))}},"Викторины"),r.createElement(k,{onClick:function(){return e(m("sports"))},color:"grey"},"Любимые клубы"))))};const Z=function(t){var e=t.goBack,n=(t.goTo,(0,a.wA)()),o=(0,a.d4)((function(t){return t.main.audiences}));return r.createElement("div",{className:x()("container main-page page")},r.createElement(N,null),r.createElement("div",{className:"page__content"},r.createElement("div",{className:"sport-block"},r.createElement(A,null,"Выберите свой",r.createElement("br",null),"вид спорта"),r.createElement("div",{className:"sport-block__buttons"},o.map((function(t){return r.createElement("button",{className:"sport-button",onClick:function(){return e=t.group_id,n(E(e)),void n(m("clubs"));var e},key:t.group_id},r.createElement("span",{className:"sport-button__icon"},r.createElement("img",{src:"assets/images/".concat(1===t.group_id?"soccer":"hockey","-icon.svg"),alt:""})),r.createElement("span",{className:"sport-button__text"},t.group_name))}))),r.createElement(k,{onClick:e},"Вернуться назад"))))};var J=function(t){return Q("get","/get_audience",{},{user_id:t})},X=function(t,e,n){return Q("post","/set_user_audience",{user_id:t,add_audiences:e,remove_audiences:n},{})};function tt(t){return tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tt(t)}function et(){et=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new j(r||[]);return o(i,"_invoke",{value:L(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(T([])));_&&_!==n&&r.call(_,i)&&(E=_);var x=b.prototype=y.prototype=Object.create(E);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==tt(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,n,r){var o=m;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=A(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(tt(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(N.prototype),u(N.prototype,c,(function(){return this})),e.AsyncIterator=N,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new N(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function nt(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}const rt=function(t){var e=t.goBack,n=(t.goTo,(0,a.wA)()),o=(0,a.d4)((function(t){return t.main.quests})),i=((0,a.d4)((function(t){return t.main.questIsActive})),window.Telegram.WebApp),c=(o.length>0&&q(o[0]),(0,a.d4)((function(t){return t.main.currentAudienceID}))),l=(0,a.d4)((function(t){return t.main.audiences})).find((function(t){return t.group_id===c})),u=function(){var t,e=(t=et().mark((function t(e,r,o){var a,c,l,u,s,f;return et().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r;case 3:if(!t.sent){t.next=7;break}t.t0=X(null===(a=i.initDataUnsafe)||void 0===a||null===(a=a.user)||void 0===a?void 0:a.id,[],[o]),t.next=8;break;case 7:t.t0=X(null===(c=i.initDataUnsafe)||void 0===c||null===(c=c.user)||void 0===c?void 0:c.id,[o],[]);case 8:return t.t0,t.next=11,$(null===(l=i.initDataUnsafe)||void 0===l||null===(l=l.user)||void 0===l?void 0:l.id);case 11:return s=t.sent,t.next=14,J(null===(u=i.initDataUnsafe)||void 0===u||null===(u=u.user)||void 0===u?void 0:u.id);case 14:f=t.sent,n(b(f.audience)),n(d(s.quests)),t.next=22;break;case 19:t.prev=19,t.t1=t.catch(0),console.log(t.t1);case 22:case"end":return t.stop()}}),t,null,[[0,19]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){nt(a,r,o,i,c,"next",t)}function c(t){nt(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t,n,r){return e.apply(this,arguments)}}();return r.createElement("div",{className:x()("container main-page page")},r.createElement(N,null),r.createElement("div",{className:"page__content"},r.createElement("div",{className:"clubs-block"},r.createElement(A,{className:"clubs-block__title"},"Любимые клубы"),r.createElement(L,{className:"clubs-block__text",color:"semiwhite"},"Будем присылать уведомления",r.createElement("br",null),"о новых викторинах"),r.createElement("div",{className:"clubs-block__buttons"},l.audiences.map((function(t){return r.createElement("button",{className:x()("club-button",t.is_subscribed&&"club-button_active"),key:t.audience_id,onClick:function(){var e;return u(null===(e=i.initDataUnsafe)||void 0===e||null===(e=e.user)||void 0===e?void 0:e.id,t.is_subscribed,t.audience_id)}},r.createElement("span",{className:"club-button__text"},t.audience_name),r.createElement("span",{className:"club-button__icon"},r.createElement("img",{src:"assets/images/heart-icon.svg",alt:""})))}))),r.createElement(k,{onClick:e},"Вернуться назад"))))};function ot(t){return ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function at(t){return function(t){if(Array.isArray(t))return it(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return it(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?it(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ct(){ct=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var a=e&&e.prototype instanceof y?e:y,i=Object.create(a.prototype),c=new j(r||[]);return o(i,"_invoke",{value:L(t,n,c)}),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=s;var m="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function y(){}function g(){}function b(){}var E={};u(E,i,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(T([])));_&&_!==n&&r.call(_,i)&&(E=_);var x=b.prototype=y.prototype=Object.create(E);function k(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function N(t,e){function n(o,a,i,c){var l=f(t[o],t,a);if("throw"!==l.type){var u=l.arg,s=u.value;return s&&"object"==ot(s)&&r.call(s,"__await")?e.resolve(s.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(s).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function L(e,n,r){var o=m;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===d){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var l=A(c,r);if(l){if(l===v)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=p;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?d:h,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=d,r.method="throw",r.arg=u.arg)}}}function A(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,A(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var a=f(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function T(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(ot(e)+" is not iterable")}return g.prototype=b,o(x,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=u(b,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===g||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,u(t,l,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},k(N.prototype),u(N.prototype,c,(function(){return this})),e.AsyncIterator=N,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new N(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},k(x),u(x,l,"Generator"),u(x,i,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return c.type="throw",c.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;S(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:T(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}function lt(t,e,n,r,o,a,i){try{var c=t[a](i),l=c.value}catch(t){return void n(t)}c.done?e(l):Promise.resolve(l).then(r,o)}const ut=function(){var t=(0,a.wA)(),e=(0,a.d4)((function(t){return t.main.activePanel})),n=(0,a.d4)((function(t){return t.main.activeModal})),o=(0,a.d4)((function(t){return t.main.history})),i=(0,a.d4)((function(t){return t.main.platform})),c=(0,a.d4)((function(t){return t.main.modalText})),l=(0,a.d4)((function(t){return t.main.modalNextAction})),u=(0,a.d4)((function(t){return t.main.hintText})),s=(0,a.d4)((function(t){return t.main.prizesText})),f=(0,a.d4)((function(t){return t.main.currentQuest})),v=(0,a.d4)((function(t){return t.main.quests})),y=v.length>0?v.find((function(t){return t.id===f})):void 0,g=window.Telegram.WebApp,E=function(){var e,n=(e=ct().mark((function e(){var n,r,o,a;return ct().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(null===(n=g.initDataUnsafe)||void 0===n||null===(n=n.user)||void 0===n?void 0:n.id);case 3:return o=e.sent,e.next=6,J(null===(r=g.initDataUnsafe)||void 0===r||null===(r=r.user)||void 0===r?void 0:r.id);case 6:a=e.sent,t(b(a.audience)),t(d(o.quests)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(t){lt(a,r,o,i,c,"next",t)}function c(t){lt(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(){return n.apply(this,arguments)}}();(0,r.useEffect)((function(){E(),g.ready(),g.disableVerticalSwipes(),g.expand(),g.setHeaderColor("#000000"),g.setBackgroundColor("#000000"),g.setBottomBarColor("#000000"),E()}),[]);var _=function(e){t(m(e)),t(p([].concat(at(o),[e])))},x=function(){return r.createElement("div",{className:"modal full-modal",onClick:function(t){t.stopPropagation()}},r.createElement("div",{className:"full-modal__content"},r.createElement("img",{src:"assets/images/right-answer-pic.png",className:"full-modal__pic",width:157,height:150}),r.createElement(A,null,"Верно!"),r.createElement(L,null,c)),"complete"===l&&r.createElement("div",{className:"full-modal__buttons"},r.createElement(k,{onClick:function(){t(m("level")),t(h(null))}},"Продолжить")),"retry"===l&&r.createElement("div",{className:"full-modal__buttons"},r.createElement(k,{onClick:function(){return t(h(null))}},"Еще раз"),r.createElement(k,{color:"transparent",onClick:function(){t(h(null)),_("level")}},"К другим задачам")))},N=function(){return r.createElement("div",{className:"modal full-modal",onClick:function(t){t.stopPropagation()}},r.createElement("div",{className:"full-modal__content"},r.createElement("img",{src:"assets/images/wrong-answer-pic.png",className:"full-modal__pic",width:157,height:150}),r.createElement(A,null,"Неверно!"),r.createElement(L,null,c)),"complete"===l&&r.createElement("div",{className:"full-modal__buttons"},r.createElement(k,{onClick:function(){t(h(null)),_("level")}},"Продолжить")),"retry"===l&&r.createElement("div",{className:"full-modal__buttons"},r.createElement(k,{onClick:function(){return t(h(null))}},"Еще раз"),r.createElement(k,{color:"transparent",onClick:function(){t(h(null)),_("level")}},"К другим задачам")))},O=function(){return r.createElement("div",{className:"modal full-modal",onClick:function(t){t.stopPropagation()}},r.createElement("div",{className:"full-modal__content"},r.createElement("img",{src:"assets/images/wrong-answer-pic.png",className:"full-modal__pic",width:157,height:150}),r.createElement(A,null,"Что-то пошло не так")),r.createElement("div",{className:"full-modal__buttons"}," ",r.createElement(k,{onClick:function(){t(h(null)),_("main")}},"Вернуться на главную")))},S=function(){return r.createElement("div",{className:"modal full-modal",onClick:function(t){t.stopPropagation()}},r.createElement("div",{className:"full-modal__content"},r.createElement("img",{src:"assets/images/right-answer-pic.png",className:"full-modal__pic",width:157,height:150}),r.createElement(A,null,y.name," уровень пройден!"),r.createElement("div",{className:"full-modal__sub-info"},r.createElement(L,null,"Теперь ты можешь выиграть:")),r.createElement(L,null,y.prize_short_description)),r.createElement("div",{className:"full-modal__buttons"},r.createElement(k,{onClick:function(){t(m("main")),t(h(null))}},"Вернуться в меню")))},j=function(){return r.createElement("div",{className:"modal body-modal",onClick:function(t){t.stopPropagation()}},r.createElement("div",{className:"body-modal__content"},r.createElement("div",{className:"body-modal__close",onClick:function(){return t(h(null))}},r.createElement("img",{src:"assets/images/cross-icon.svg",width:10,height:10,alt:""})),r.createElement("img",{src:"assets/images/hint-pic.png",className:"body-modal__pic",width:130,height:175}),r.createElement(A,{color:"purple",className:"body-modal__title"},"Подсказка"),r.createElement(L,{color:"black",align:"center"},u),r.createElement(k,{color:"purple",className:"body-modal__button",onClick:function(){return t(h(null))}},"Спасибо")))},T=function(){return r.createElement("div",{className:"modal body-modal",onClick:function(t){t.stopPropagation()}},r.createElement("div",{className:"body-modal__content"},r.createElement("div",{className:"body-modal__close",onClick:function(){return t(h(null))}},r.createElement("img",{src:"assets/images/cross-icon.svg",width:10,height:10,alt:""})),r.createElement("img",{src:"assets/images/prize-pic.png",className:"body-modal__pic",width:170,height:170}),r.createElement(A,{color:"purple",className:"body-modal__title"},"О призах"),r.createElement(L,{color:"black",align:"left",className:"body-modal__text"},r.createElement("span",{dangerouslySetInnerHTML:{__html:s}})),r.createElement(k,{color:"purple",className:"body-modal__button",onClick:function(){return t(h(null))}},"Спасибо")))},q=[];return"loading"===e?q.push(r.createElement(w,{goTo:_,key:"loading"})):"main"===e?q.push(r.createElement(C,{goTo:_,goBack:function(){return t(m("choice"))},key:"main"})):"level"===e?q.push(r.createElement(I,{goBack:function(){return t(m("main"))},goTo:_,key:"level"})):"results"===e?q.push(r.createElement(K,{goBack:function(){return t(m("main"))},goTo:_,key:"results"})):"question"===e?q.push(r.createElement(R,{goBack:function(){return t(m("main"))},goTo:_,key:"question"})):"choice"===e?q.push(r.createElement(V,{goBack:function(){return t(m("level"))},goTo:_,key:"choice"})):"sports"===e?q.push(r.createElement(Z,{goBack:function(){return t(m("choice"))},goTo:_,key:"sports"})):"clubs"===e&&q.push(r.createElement(rt,{goBack:function(){return t(m("sports"))},goTo:_,key:"clubs"})),r.createElement("div",{className:"app ".concat(i)},r.createElement(r.Fragment,null,q,r.createElement(P,null,"questionRight"===n?r.createElement(x,null):"questionWrong"===n?r.createElement(N,null):"levelPassed"===n?r.createElement(S,null):"hint"===n?r.createElement(j,null):"prizes"===n?r.createElement(T,null):"questionAlert"===n&&r.createElement(O,null))))};var st=(0,n(1829).HY)({main:s}),ft=(0,i.U1)({reducer:st}),mt=document.getElementById("root");(0,o.H)(mt).render(r.createElement(a.Kq,{store:ft},r.createElement(ut,null)))}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,r),a.exports}r.m=e,t=[],r.O=(e,n,o,a)=>{if(!n){var i=1/0;for(s=0;s<t.length;s++){for(var[n,o,a]=t[s],c=!0,l=0;l<n.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((t=>r.O[t](n[l])))?n.splice(l--,1):(c=!1,a<i&&(i=a));if(c){t.splice(s--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var s=t.length;s>0&&t[s-1][2]>a;s--)t[s]=t[s-1];t[s]=[n,o,a]},r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={792:0};r.O.j=e=>0===t[e];var e=(e,n)=>{var o,a,[i,c,l]=n,u=0;if(i.some((e=>0!==t[e]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(l)var s=l(r)}for(e&&e(n);u<i.length;u++)a=i[u],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(s)},n=self.webpackChunkKinopoisk_Sport=self.webpackChunkKinopoisk_Sport||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})(),r.O(void 0,[570],(()=>r(7461)));var o=r.O(void 0,[570],(()=>r(5362)));o=r.O(o)})();
//# sourceMappingURL=main.725a5dcd0bc7588e539c.js.map